(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[542],{3119:function(e,s,r){Promise.resolve().then(r.bind(r,4100))},9376:function(e,s,r){"use strict";var i=r(5475);r.o(i,"useRouter")&&r.d(s,{useRouter:function(){return i.useRouter}}),r.o(i,"useSearchParams")&&r.d(s,{useSearchParams:function(){return i.useSearchParams}})},4100:function(e,s,r){"use strict";r.r(s);var i=r(7437),c=r(2265),t=r(9376);r(8943),r(6279),r(7551),r(3336);let a=()=>{let e=(0,t.useSearchParams)(),s=e?e.get("pid"):null,[r,a]=(0,c.useState)([]),[n,l]=(0,c.useState)(""),[d,o]=(0,c.useState)(1),[h,u]=(0,c.useState)(""),[j,x]=(0,c.useState)(null),[m,p]=(0,c.useState)("".concat(s));(0,c.useEffect)(()=>{let e=[...document.querySelectorAll(".img-select a")],s=1;function r(){let e=document.querySelector(".img-showcase img:first-child").clientWidth;document.querySelector(".img-showcase").style.transform="translateX(".concat(-(s-1)*e,"px)")}e.forEach(e=>{e.addEventListener("click",i=>{i.preventDefault(),s=e.dataset.id,r()})}),window.addEventListener("resize",r)},[]),(0,c.useEffect)(()=>{(async()=>{try{let e=await fetch("https://mavy-pxtx.onrender.com/user/userId",{method:"GET",credentials:"include"});if(!e.ok)throw Error("Error fetching user data");let s=await e.json();x(s.userId)}catch(e){console.error("Error fetching data:",e)}try{let e=await fetch("https://mavy-pxtx.onrender.com/user/products?pid=".concat(s));if(!e.ok)throw Error("Network response was not ok");let r=await e.json();a(r),console.log(r)}catch(e){console.error("Error fetching data:",e)}})()},[]);let f=async()=>{try{if(!j){u("Not Registered: "),l("");return}let e=await fetch("https://mavy-pxtx.onrender.com/user/addtocart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:j,productId:m,quantity:d}),credentials:"include"}),s=await e.json();e.ok?(l("Product added to cart successfully!"),u("")):(u(s.message||"Error adding product to cart"),l(""))}catch(e){console.error("Error in adding product to cart:",e),u("An error occurred while adding the product to the cart."),l("")}};return(0,i.jsx)("div",{children:(0,i.jsx)("div",{class:"card-wrapper",children:(0,i.jsxs)("div",{class:"card",children:[(0,i.jsxs)("div",{class:"product-imgs",children:[(0,i.jsx)("div",{class:"img-display",children:(0,i.jsxs)("div",{class:"img-showcase",children:[(0,i.jsx)("img",{src:"img/".concat(r.imageUrl),alt:r.name}),(0,i.jsx)("img",{src:"img/".concat(r.imageUrl),alt:r.name}),(0,i.jsx)("img",{src:"img/".concat(r.imageUrl),alt:r.name})]})}),(0,i.jsxs)("div",{class:"img-select",children:[(0,i.jsx)("div",{class:"img-item",children:(0,i.jsx)("a",{href:"#","data-id":"1",children:(0,i.jsx)("img",{src:"img/image0.jpeg",alt:"shoe image"})})}),(0,i.jsx)("div",{class:"img-item",children:(0,i.jsx)("a",{href:"#","data-id":"2",children:(0,i.jsx)("img",{src:"img/image1.jpeg",alt:"shoe image"})})}),(0,i.jsx)("div",{class:"img-item",children:(0,i.jsx)("a",{href:"#","data-id":"3",children:(0,i.jsx)("img",{src:"img/image2.jpeg",alt:"shoe image"})})})]})]}),(0,i.jsxs)("div",{class:"product-content",children:[(0,i.jsx)("h2",{class:"product-title",children:r.name}),(0,i.jsx)("a",{href:"#",class:"product-link"}),(0,i.jsxs)("div",{class:"product-rating",children:[(0,i.jsx)("i",{class:"fas fa-star"}),(0,i.jsx)("i",{class:"fas fa-star"}),(0,i.jsx)("i",{class:"fas fa-star"}),(0,i.jsx)("i",{class:"fas fa-star"}),(0,i.jsx)("i",{class:"fas fa-star-half-alt"}),(0,i.jsx)("span",{children:"4.7(21)"})]}),(0,i.jsx)("div",{class:"product-price",children:(0,i.jsxs)("p",{class:"new-price",children:["New Price: ",(0,i.jsxs)("span",{children:["$",r.price]})]})}),(0,i.jsxs)("div",{class:"product-detail",children:[(0,i.jsx)("h2",{children:"about this item: "}),(0,i.jsx)("p",{children:r.description}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:["Available: ",(0,i.jsx)("span",{children:"in stock"})]}),(0,i.jsxs)("li",{children:["Category: ",(0,i.jsx)("span",{children:"Cloth"})]}),(0,i.jsxs)("li",{children:["Shipping Area: ",(0,i.jsx)("span",{children:"All over the world"})]}),(0,i.jsxs)("li",{children:["Shipping Fee: ",(0,i.jsx)("span",{children:"$9.99"})]})]})]}),(0,i.jsxs)("div",{class:"purchase-info",children:[(0,i.jsx)("input",{type:"hidden",value:j,onChange:e=>x(e.target.value),placeholder:"Enter your user ID"}),(0,i.jsx)("input",{type:"hidden",value:m,onChange:e=>p(e.target.value),placeholder:"Enter product ID"}),(0,i.jsx)("input",{type:"number",min:"1",name:"quantity",value:d,onChange:e=>o(e.target.value)}),(0,i.jsxs)("button",{type:"button",onClick:f,class:"btn",children:["Add to Cart ",(0,i.jsx)("i",{class:"fas fa-shopping-cart"})]}),n&&(0,i.jsx)("p",{style:{color:"green"},children:n}),h&&(0,i.jsxs)("p",{style:{color:"red"},children:[h,"  ",(0,i.jsx)("a",{href:"signup?pid=".concat(s),className:"register-link",children:"Register Here"})," "]})]})]})]})})})};s.default=()=>(0,i.jsx)(c.Suspense,{fallback:(0,i.jsx)("div",{children:"Loading..."}),children:(0,i.jsx)(a,{})})},3336:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return d}});var i=r(7437);r(5442),r(8943),r(6279);var c=r(3897),t=r(6498),a=r(4154),n=r(4295),l=r(2265);function d(){let[e,s]=(0,l.useState)([]),[r,d]=(0,l.useState)(!0);return(0,c.V)(()=>{let e=document.querySelector("#nav i"),s=document.querySelector("#full i"),r=t.p8.timeline();r.to("#full",{right:0,duration:.5}),r.from("#full h4",{x:150,duration:.6,stagger:.2,opacity:0}),r.from("#full i",{opacity:0}),r.pause(),e.addEventListener("click",function(){r.play()}),s.addEventListener("click",function(){r.reverse()})}),(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("https://mavy-pxtx.onrender.com/user/products");if(!e.ok)throw Error("Network response was not ok");let r=await e.json();s(r),d(!1)}catch(e){console.error("Error fetching data:",e),d(!1)}})()},[]),(0,i.jsxs)("div",{children:[(0,i.jsx)("header",{children:(0,i.jsxs)("div",{className:"navbar",children:[(0,i.jsxs)("div",{id:"nav",children:[(0,i.jsx)("img",{src:"img/qt=q_95.jpeg",alt:""}),(0,i.jsx)("i",{children:(0,i.jsx)(a.dQh,{})})]}),(0,i.jsxs)("div",{id:"full",children:[(0,i.jsx)("a",{href:"/",children:(0,i.jsx)("h4",{children:"Home"})}),(0,i.jsx)("a",{href:"./about",children:(0,i.jsx)("h4",{children:"About"})}),(0,i.jsx)("a",{href:"#",children:(0,i.jsx)("h4",{children:"Products"})}),(0,i.jsx)("a",{href:"./cart",children:(0,i.jsx)("h4",{children:"Cart"})}),(0,i.jsx)("a",{href:"./login",children:(0,i.jsx)("h4",{children:"Profile"})}),(0,i.jsx)("i",{children:(0,i.jsx)(n.QAE,{})})]})]})}),(0,i.jsx)("section",{children:(0,i.jsxs)("div",{className:"item-section",children:[(0,i.jsx)("div",{className:"p-heading",children:(0,i.jsx)("h1",{children:"Featured Products"})}),(0,i.jsx)("div",{className:"item-cont",children:r?(0,i.jsx)("p",{children:"Loading products..."}):e.length>0?e.map((e,s)=>(0,i.jsxs)("div",{className:"item",children:[(0,i.jsx)("div",{className:"product-img",children:(0,i.jsx)("img",{src:e.imageUrl?"img/".concat(e.imageUrl):"img/fallback.jpeg",alt:e.name||"Product image"})}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsxs)("div",{className:"product-info",children:[(0,i.jsx)("h3",{children:e.name}),(0,i.jsxs)("p",{children:["$",e.description]}),(0,i.jsxs)("p",{children:["$",e.price]}),(0,i.jsx)("a",{href:"buy?pid=".concat(e._id),children:(0,i.jsx)("button",{children:"Buy Now"})})]})]},s)):(0,i.jsx)("p",{children:"No products available"})})]})}),(0,i.jsx)("footer",{children:(0,i.jsxs)("div",{className:"footer-cont",children:[(0,i.jsxs)("div",{className:"footer",children:[(0,i.jsx)("div",{className:"company",children:(0,i.jsx)("img",{src:"/img/qt=q_95.jpeg",alt:""})}),(0,i.jsxs)("div",{className:"cust-care",children:[(0,i.jsx)("h3",{children:"Customer Care"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"#",children:"Contact Us"})}),(0,i.jsx)("li",{children:"Call +91 123 456 789"}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"#",children:"FAQ"})})]})]}),(0,i.jsxs)("div",{className:"link",children:[(0,i.jsx)("h3",{children:"Links"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"#",children:"Home"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"about.html",children:"About"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"product.html",children:"Products"})})]})]}),(0,i.jsxs)("div",{className:"social",children:[(0,i.jsx)("h3",{children:"Follow Us"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"#",children:"Instagram"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"#",children:"Facebook"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"#",children:"Twitter"})})]})]})]}),(0,i.jsx)("div",{className:"copyright",children:(0,i.jsx)("h4",{children:"Copyright @ 2024 Mavy Scrubs"})})]})})]})}},7551:function(){},5442:function(){},8943:function(){},6279:function(){}},function(e){e.O(0,[905,703,605,522,452,922,372,971,117,744],function(){return e(e.s=3119)}),_N_E=e.O()}]);